<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
	    <th:block th:replace="fragment/fragment :: scr-head"></th:block>
	    <title>Lista Immobili</title>
	</head>
	<body>
	    <thead> <th:block th:replace="fragment/fragment :: navbar"></th:block> </thead>
	    
		<div th:if="${#lists.isEmpty(estateList)}">
		    	<h1>Mi dispiace non ci sono ancora immobili nel catalogo.</h1>
		</div>
		<div th:unless="${#lists.isEmpty(estateList)}">
		<div class="container d-flex justify-content-around my-5"> <!--contenitore di tutte le card-->
		  <div class="d-flex flex-row flex-wrap m-3"> <!--contenitore della row di card-->
		    <div class="card rounded-3 border border-secondary m-5" th:each="e : ${estateList}" style="max-width: 300px; max-height:600px;">		      
                <img th:if="${e.images==0}" src="/Casa Stilizzata.jpg" alt="template casa">
				<img th:if="${e.images!=0}" th:src="@{|/estate/image/${e.images.get(0).getId()}/content|}" class="img-fluid" alt="Immagine immobile">              
		      <div class="card-body">
		        <p class="badge bg-primary rounded-pill" th:text="|${e.getFormattedPrice(e.price)}|"></p>
		        <h5 class="card-title" th:text="${e.type}"></h5>
		        <p class="card-text" th:text="|${e.address}, ${e.houseNumber} ${e.zipCode} ${e.city}|"></p>
		        <a th:href="@{|/estate/${e.id}|}" class="btn btn-primary rounded-3">Vedi dettagli</a>
		      </div>
		    </div>
		
		  </div>
		</div>
		</div>
	
	    
	    <footer><th:block th:replace="fragment/fragment :: footer"></th:block></footer>
	</body>
</html>
